// ***************************************************************************
// Copyright (c) 2013 SAP AG or an SAP affiliate company. All rights reserved.
// ***************************************************************************
// サンプルコードは「現状有姿(as is)」の条件で提供されるものであり、
// お客様に対しいかなる保証責任も賠償責任も負わないものとします。
//
// お客様は、当該サンプルコードを使用、複製および配布することができます。
// ただし、アイエニウェアの原コードに関する著作権表示およびにこれに対する
// 免責表示をすることを条件とします。
// 
// *********************************************************************

		        Disk-Full Callback のサンプル

目的
----
このディレクトリには、Disk-Full Callback のサンプル DLL が含まれています。
この DLL には、OS のディスクが一杯になったときに SQL Anywhere が呼び出
すことのできるエントリポイントが含まれています。

必要条件
--------
このサンプルは、オペレーティングシステムの種類にかかわらず、以下を前提
としています。
 - 環境変数 SQLANY11 に SA ディレクトリが設定されている。
   これは、SQL Anywhere のインストール時に設定されます。
Windows の場合、さらに以下も前提としています。
 - makefile を使用するために、Visual Studio .NET 2003 または 
   Visual Studio 2005 がインストール済みである。
 - 環境変数 VCINSTALLDIR が設定済みである。これは、Visual Studio の
   インストール時に設定されますが、Visual Studio によってインストールされる 
   vcvars32.bat ファイルを使用して設定することもできます。

ソースコードは、他のコンパイラでもコンパイルできます。

UNIX 専用のビルド手順については、build.sh ファイルを参照してください。

処理手順
--------
build.bat (Windows の場合) または build.sh (UNIX の場合) を実行すると、
DLL (UNIX は共有オブジェクト) をコンパイルします。

show_exports.bat (Windows の場合) または show_exports.sh (UNIX の場合) 
を実行すると、エクスポートされたシンボルを表示します。

DLL (共有オブジェクト) をパス内のディレクトリ (Windows の場合) または
ライブラリパス (UNIX の場合) にコピーします。

オプション -fc diskfull.dll を使用してコマンドラインからデータベース
サーバーを起動します（HP-UX PARISC の場合は libdiskfull.sl、その他の
UNIX の場合は libdiskfull.so を使用します）。


コールバックのカスタマイズ
--------------------------
コールバック関数は、一般的になるように設計されており、ユーザが用意した
バッチファイル (UNIX の場合はシェルスクリプト) を簡単に呼び出しま
す。バッチファイルは、重要な診断や何らかの是正処置を行う必要がありま
す。必要に応じて、バッチファイルを呼び出す代わりに、コールバック内で
これらの処置を実行することもできます。バッチファイルの名前および場所
やディスクが一杯になったときの対処方法を変更するには、diskfull.cpp ファ
イルを修正してください。

  
