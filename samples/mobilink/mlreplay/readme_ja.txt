// ***************************************************************************
// Copyright (c) 2013 SAP AG or an SAP affiliate company. All rights reserved.
// ***************************************************************************
// サンプルコードは「現状有姿(as is)」の条件で提供されるものであり、
// お客様に対しいかなる保証責任も賠償責任も負わないものとします。
//
// お客様は、当該サンプルコードを使用、複製および配布することができます。
// ただし、アイエニウェアの原コードに関する著作権表示およびにこれに対する
// 免責表示をすることを条件とします。
// 
// ********************************************************************

                                 MLReplay のサンプル

目的
----
このサンプルは MLReplay の使用法を説明するためのものです。

必要条件
--------
このサンプルは SQL Anywhere がインストールされている事を前提としていま
す。

処理手順
--------

UNIX 上でこのサンプルを実行する場合、以下の手順で .bat を .sh に置き換
えてください。

build.bat を実行すると、統合データベースとリモートデータベースが作成さ
れ、スクリプトとパブリケーションが追加されます。

step1.bat を編集し、２つの変数に適切な値を設定します。NUM_ROWS はシミュ
レートされた各クライアントデータが統合データベースにアップロードする
ロー数とシミュレートされた各クライアントにダウンロードされるデータのど
ちらか小さい方の値です。NUM_SIMULATED_CLIENTS は同時にシミュレートされ
るクライアント数です。

step1.bat を実行すると、NUM_ROWS 変数と NUM_SIMULATED_CLIENTS 変数が作
成されます。

step2.bat を実行すると Mobile Link サーバーが -rp オプションを使用して
起動します。

step3.bat を実行すると、スキーマをMobile Link サーバーにキャッシュする
ための最初の同期が実行されます。

step4.bat を実行すると、リプレイする同期のデータを生成し、ロードします。

step5.bat を実行すると、MLReplay によってリプレイされる同期が記録されます。

step6.bat を実行すると Mobile Link サーバーが -rp オプションを使用せず
に起動します。

step7.bat を実行すると、スキーマをMobile Link サーバーにキャッシュする
ための最初の同期が実行されます。

step8.bat を実行すると、MLReplayが実行され、記録されたプロトコルがリプ
レイされます。

report.bat を実行すると、MLReplayが成功したかどうかを確認するための２
つのクエリを実行します。クエリの結果は report.txt に出力されます。２つ
のクエリは 0 を返すでしょう。

clean.bat を実行すると、生成された全てのファイルが削除されます。

